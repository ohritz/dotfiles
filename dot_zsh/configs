
# =============
# fzf-tab config
# =============

# set descriptions format to enable group support
zstyle ':completion:*:descriptions' format '[%d]'
# switch group using `,` and `.`
zstyle ':fzf-tab:*' switch-group ',' '.'

# set list-colors to enable filename colorizing
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}

# preview directory's content with eza when completing cd
zstyle ':fzf-tab:complete:cd:*' fzf-preview 'eza -1 --color=always $realpath'

# === eza plugin config ===

# If yes, directories will be grouped first
# Options: yes, no
# Default: no
zstyle ':omz:plugins:eza' 'dirs-first' no

# If yes, always add --git flag to indicate git status (if tracked / in a git repo)
# Options: yes, no
# Default: no
zstyle ':omz:plugins:eza' 'git-status' no

# If yes, always add -h flag to add a header row for each column
# Options: yes, no
# Default: no
zstyle ':omz:plugins:eza' 'header' no

# If yes, always add -g flag to show the group ownership
# Options: yes, no
# Default: yes
zstyle ':omz:plugins:eza' 'show-group' yes

# If yes, sets the --icons option of eza, adding icons for files and folders
# Options: yes, no
# Default: no
zstyle ':omz:plugins:eza' 'icons' yes

# Highlight levels of field(s) distinctly
# Options: all, age, size (can use comma-separated list like 'age,size')
# Default: none
zstyle ':omz:plugins:eza' 'color-scale' size

# Choose the mode for highlighting
# Options: gradient, fixed
# Default: gradient
zstyle ':omz:plugins:eza' 'color-scale-mode' gradient

# Choose the prefix to be used in displaying file size
# Options: binary, none, si
# Default: si
zstyle ':omz:plugins:eza' 'size-prefix' si

# Sets the --time-style option of eza
# Options: Any valid time style format supported by eza (see 'man eza')
# Default: Not set (eza default behavior)
# zstyle ':omz:plugins:eza' 'time-style' [not set by default]

# If yes, always add --hyperlink flag to create hyperlink with escape codes
# Options: yes, no
# Default: no
zstyle ':omz:plugins:eza' 'hyperlink' no

# === Shell Behavior ===
setopt auto_cd
setopt auto_pushd
setopt no_beep
setopt prompt_subst
setopt auto_param_slash
setopt interactive_comments
setopt list_packed
setopt no_nomatch

# === History ===
setopt share_history
setopt inc_append_history
setopt append_history
setopt extended_history
setopt hist_expire_dups_first
setopt hist_find_no_dups
setopt hist_ignore_dups
setopt hist_ignore_space
setopt hist_reduce_blanks
setopt hist_save_no_dups
setopt hist_verify

HISTSIZE=50000
SAVEHIST=10000

# === Completion System ===
zmodload zsh/complist
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}' 'r:|[._-]=** r:|=**'

# === ZComet settings ===
ZCOMET_HOME="${HOME}/.local/share/zcomet"
zstyle ':zcomet:*' home-dir $ZCOMET_HOME
zstyle ':zcomet:compinit' dump-file "${XDG_CACHE_HOME:-$HOME/.cache}/zsh/.zcompdump"
zstyle ':zcomet:compinit' arguments -C
